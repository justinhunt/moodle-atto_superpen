YUI.add("moodle-atto_superpen-button",function(e,t){var n="atto_superpen";e.namespace("M."+n).Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(t){var r=["redpen","greenpen","bluepen","custompen","nopen"];this._custompenclass=t.custompenclass,e.Array.each(r,function(e){(t[e+"visible"]=="1"||e=="nopen")&&this.addButton({icon:"ed/"+e,iconComponent:n,title:e,buttonName:e,callback:this._applypenstyle,callbackArgs:e})},this)},_applypenstyle:function(e,t){var r=this.get("host"),i=r.getSelection(),s=window.rangy.saveSelection(),o=window.rangy.createCssClassApplier(n+"_redpen",!0),u=window.rangy.createCssClassApplier(n+"_greenpen",!0),a=window.rangy.createCssClassApplier(n+"_bluepen",!0),f=window.rangy.createCssClassApplier(this._custompenclass,!0);if(i){o.undoToSelection(),u.undoToSelection(),a.undoToSelection(),f.undoToSelection();switch(t){case"redpen":o.applyToSelection();break;case"greenpen":u.applyToSelection();break;case"bluepen":a.applyToSelection();break;case"custompen":f.applyToSelection()}}window.rangy.restoreSelection(s),this.markUpdated()}},{redpenvisible:{value:!0},greenpenvisible:{value:!0},bluepenvisible:{value:!0},custompenvisible:{value:!0},custompenclass:{value:""}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
